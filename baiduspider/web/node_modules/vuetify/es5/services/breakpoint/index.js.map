{"version":3,"sources":["../../../src/services/breakpoint/index.ts"],"names":[],"mappings":"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","sourcesContent":["// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Breakpoint as IBreakpoint } from 'vuetify/types/services/breakpoint'\n\nexport class Breakpoint extends Service implements IBreakpoint {\n  public static property: 'breakpoint' = 'breakpoint'\n\n  // Public\n  public xs = false\n\n  public sm = false\n\n  public md = false\n\n  public lg = false\n\n  public xl = false\n\n  public xsOnly = false\n\n  public smOnly = false\n\n  public smAndDown = false\n\n  public smAndUp = false\n\n  public mdOnly = false\n\n  public mdAndDown = false\n\n  public mdAndUp = false\n\n  public lgOnly = false\n\n  public lgAndDown = false\n\n  public lgAndUp = false\n\n  public xlOnly = false\n\n  // Value is xs to match v2.x functionality\n  public name: IBreakpoint['name'] = 'xs'\n\n  public height = 0\n\n  public width = 0\n\n  // TODO: Add functionality to detect this dynamically in v3\n  // Value is true to match v2.x functionality\n  public mobile = true\n\n  public mobileBreakpoint: IBreakpoint['mobileBreakpoint']\n\n  public thresholds: IBreakpoint['thresholds']\n\n  public scrollBarWidth: IBreakpoint['scrollBarWidth']\n\n  private resizeTimeout = 0\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      mobileBreakpoint,\n      scrollBarWidth,\n      thresholds,\n    } = preset[Breakpoint.property]\n\n    this.mobileBreakpoint = mobileBreakpoint\n    this.scrollBarWidth = scrollBarWidth\n    this.thresholds = thresholds\n\n    this.init()\n  }\n\n  public init () {\n    /* istanbul ignore if */\n    if (typeof window === 'undefined') return\n\n    window.addEventListener(\n      'resize',\n      this.onResize.bind(this),\n      { passive: true }\n    )\n\n    this.update()\n  }\n\n  private onResize () {\n    clearTimeout(this.resizeTimeout)\n\n    // Added debounce to match what\n    // v-resize used to do but was\n    // removed due to a memory leak\n    // https://github.com/vuetifyjs/vuetify/pull/2997\n    this.resizeTimeout = window.setTimeout(this.update.bind(this), 200)\n  }\n\n  /* eslint-disable-next-line max-statements */\n  private update () {\n    const height = this.getClientHeight()\n    const width = this.getClientWidth()\n\n    const xs = width < this.thresholds.xs\n    const sm = width < this.thresholds.sm && !xs\n    const md = width < (this.thresholds.md - this.scrollBarWidth) && !(sm || xs)\n    const lg = width < (this.thresholds.lg - this.scrollBarWidth) && !(md || sm || xs)\n    const xl = width >= (this.thresholds.lg - this.scrollBarWidth)\n\n    this.height = height\n    this.width = width\n\n    this.xs = xs\n    this.sm = sm\n    this.md = md\n    this.lg = lg\n    this.xl = xl\n\n    this.xsOnly = xs\n    this.smOnly = sm\n    this.smAndDown = (xs || sm) && !(md || lg || xl)\n    this.smAndUp = !xs && (sm || md || lg || xl)\n    this.mdOnly = md\n    this.mdAndDown = (xs || sm || md) && !(lg || xl)\n    this.mdAndUp = !(xs || sm) && (md || lg || xl)\n    this.lgOnly = lg\n    this.lgAndDown = (xs || sm || md || lg) && !xl\n    this.lgAndUp = !(xs || sm || md) && (lg || xl)\n    this.xlOnly = xl\n\n    switch (true) {\n      case (xs):\n        this.name = 'xs'\n        break\n      case (sm):\n        this.name = 'sm'\n        break\n      case (md):\n        this.name = 'md'\n        break\n      case (lg):\n        this.name = 'lg'\n        break\n      default:\n        this.name = 'xl'\n        break\n    }\n\n    if (typeof this.mobileBreakpoint === 'number') {\n      this.mobile = width < parseInt(this.mobileBreakpoint, 10)\n\n      return\n    }\n\n    const breakpoints = {\n      xs: 0,\n      sm: 1,\n      md: 2,\n      lg: 3,\n      xl: 4,\n    } as const\n\n    const current = breakpoints[this.name]\n    const max = breakpoints[this.mobileBreakpoint]\n\n    this.mobile = current <= max\n  }\n\n  // Cross-browser support as described in:\n  // https://stackoverflow.com/questions/1248081\n  private getClientWidth () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientWidth,\n      window.innerWidth || 0\n    )\n  }\n\n  private getClientHeight () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientHeight,\n      window.innerHeight || 0\n    )\n  }\n}\n"],"sourceRoot":"","file":"index.js"}