{"version":3,"sources":["../../../src/components/VDataTable/VDataTableHeaderDesktop.ts"],"names":[],"mappings":"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","sourcesContent":["// Helpers\nimport { VNode, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport header from './mixins/header'\nimport { wrapInArray, convertToUnit } from '../../util/helpers'\nimport { DataTableHeader } from 'vuetify/types'\n\nexport default mixins(header).extend({\n  name: 'v-data-table-header-desktop',\n\n  methods: {\n    genGroupByToggle (header: DataTableHeader) {\n      return this.$createElement('span', {\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n            this.$emit('group', header.value)\n          },\n        },\n      }, ['group'])\n    },\n    getAria (beingSorted: boolean, isDesc: boolean) {\n      const $t = (key: string) => this.$vuetify.lang.t(`$vuetify.dataTable.ariaLabel.${key}`)\n\n      let ariaSort = 'none'\n      let ariaLabel = [\n        $t('sortNone'),\n        $t('activateAscending'),\n      ]\n\n      if (!beingSorted) {\n        return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n      }\n\n      if (isDesc) {\n        ariaSort = 'descending'\n        ariaLabel = [\n          $t('sortDescending'),\n          $t(this.options.mustSort ? 'activateAscending' : 'activateNone'),\n        ]\n      } else {\n        ariaSort = 'ascending'\n        ariaLabel = [\n          $t('sortAscending'),\n          $t('activateDescending'),\n        ]\n      }\n\n      return { ariaSort, ariaLabel: ariaLabel.join(' ') }\n    },\n    genHeader (header: DataTableHeader) {\n      const data: Required<Pick<VNodeData, 'attrs' | 'on' | 'class' | 'style'>> = {\n        attrs: {\n          role: 'columnheader',\n          scope: 'col',\n          'aria-label': header.text || '',\n        },\n        style: {\n          width: convertToUnit(header.width),\n          minWidth: convertToUnit(header.width),\n        },\n        class: [\n          `text-${header.align || 'start'}`,\n          ...wrapInArray(header.class),\n          header.divider && 'v-data-table__divider',\n        ],\n        on: {},\n      }\n      const children = []\n\n      if (header.value === 'data-table-select' && !this.singleSelect) {\n        return this.$createElement('th', data, [this.genSelectAll()])\n      }\n\n      children.push(\n        this.$scopedSlots[header.value]\n          ? this.$scopedSlots[header.value]!({ header })\n          : this.$createElement('span', [header.text])\n      )\n\n      if (!this.disableSort && (header.sortable || !header.hasOwnProperty('sortable'))) {\n        data.on['click'] = () => this.$emit('sort', header.value)\n\n        const sortIndex = this.options.sortBy.findIndex(k => k === header.value)\n        const beingSorted = sortIndex >= 0\n        const isDesc = this.options.sortDesc[sortIndex]\n\n        data.class.push('sortable')\n\n        const { ariaLabel, ariaSort } = this.getAria(beingSorted, isDesc)\n\n        data.attrs['aria-label'] += `${header.text ? ': ' : ''}${ariaLabel}`\n        data.attrs['aria-sort'] = ariaSort\n\n        if (beingSorted) {\n          data.class.push('active')\n          data.class.push(isDesc ? 'desc' : 'asc')\n        }\n\n        if (header.align === 'end') children.unshift(this.genSortIcon())\n        else children.push(this.genSortIcon())\n\n        if (this.options.multiSort && beingSorted) {\n          children.push(this.$createElement('span', { class: 'v-data-table-header__sort-badge' }, [String(sortIndex + 1)]))\n        }\n      }\n\n      if (this.showGroupBy && header.groupable !== false) children.push(this.genGroupByToggle(header))\n\n      return this.$createElement('th', data, children)\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement('thead', {\n      staticClass: 'v-data-table-header',\n    }, [\n      this.$createElement('tr', this.headers.map(header => this.genHeader(header))),\n    ])\n  },\n})\n"],"sourceRoot":"","file":"VDataTableHeaderDesktop.js"}