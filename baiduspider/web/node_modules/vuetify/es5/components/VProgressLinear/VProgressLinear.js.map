{"version":3,"sources":["../../../src/components/VProgressLinear/VProgressLinear.ts"],"names":[],"mappings":";;;;;;;AAAA;;AAGA;;AAMA;;AACA;;AACA;;AACA;;AAGA;;AACA;;;;;;;;;;AAMA,IAAM,UAAU,GAAG,qBACjB,kBADiB,EAEjB,2BAAoB,CAAC,UAAD,EAAa,OAAb,EAAsB,KAAtB,EAA6B,QAA7B,CAApB,CAFiB,EAGjB,kBAHiB,EAIjB,kBAJiB,CAAnB;AAOA;;eACe,UAAU,CAAC,MAAX,CAAkB;AAC/B,EAAA,IAAI,EAAE,mBADyB;AAG/B,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EAAE,OADA;AAEN,MAAA,OAAO,EAAE;AAFH,KADH;AAKL,IAAA,eAAe,EAAE;AACf,MAAA,IAAI,EAAE,MADS;AAEf,MAAA,OAAO,EAAE;AAFM,KALZ;AASL,IAAA,iBAAiB,EAAE;AACjB,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADW;AAEjB,MAAA,OAAO,EAAE;AAFQ,KATd;AAaL,IAAA,WAAW,EAAE;AACX,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADK;AAEX,MAAA,OAAO,EAAE;AAFE,KAbR;AAiBL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,OAAO,EAAE;AAFJ,KAjBF;AAqBL,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADA;AAEN,MAAA,OAAO,EAAE;AAFH,KArBH;AAyBL,IAAA,aAAa,EAAE,OAzBV;AA0BL,IAAA,KAAK,EAAE,OA1BF;AA2BL,IAAA,OAAO,EAAE,OA3BJ;AA4BL,IAAA,OAAO,EAAE,OA5BJ;AA6BL,IAAA,MAAM,EAAE,OA7BH;AA8BL,IAAA,OAAO,EAAE,OA9BJ;AA+BL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADD;AAEL,MAAA,OAAO,EAAE;AAFJ;AA/BF,GAHwB;AAwC/B,EAAA,IAxC+B,kBAwC3B;AACF,WAAO;AACL,MAAA,iBAAiB,EAAE,KAAK,KAAL,IAAc;AAD5B,KAAP;AAGD,GA5C8B;AA8C/B,EAAA,QAAQ,EAAE;AACR,IAAA,kBADQ,gCACU;AAChB,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B,KAAK,kBAAL,CAAwB,KAAK,eAAL,IAAwB,KAAK,KAArD,EAA4D;AAC5F,QAAA,WAAW,EAAE,+BAD+E;AAE5F,QAAA,KAAK,EAAE,KAAK;AAFgF,OAA5D,CAA3B,CAAP;AAID,KANO;AAOR,IAAA,WAPQ,yBAOG;AACT,aAAO,KAAK,cAAL,CAAoB,KAAK,kBAAzB,EAA6C,CAAC,KAAK,eAAN,CAA7C,CAAP;AACD,KATO;AAUR,IAAA,eAVQ,6BAUO;AACb,aAAO,KAAK,aAAL,GAAqB,KAAK,qBAA1B,GAAkD,KAAK,mBAA9D;AACD,KAZO;AAaR,IAAA,cAbQ,4BAaM;AACZ,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,QAAA,WAAW,EAAE,2BADmB;AAEhC,QAAA,KAAK,EAAE,KAAK;AAFoB,OAA3B,CAAP;AAID,KAlBO;AAmBR,IAAA,mBAnBQ,iCAmBW;AACjB,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B,KAAK,kBAAL,CAAwB,KAAK,KAA7B,EAAoC;AACpE,QAAA,WAAW,kCADyD;AAEpE,QAAA,KAAK,EAAE;AACL,UAAA,KAAK,EAAE,4BAAc,KAAK,eAAnB,EAAoC,GAApC;AADF;AAF6D,OAApC,CAA3B,CAAP;AAMD,KA1BO;AA2BR,IAAA,qBA3BQ,mCA2Ba;AACnB,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,QAAA,WAAW,EAAE,kCADmB;AAEhC,QAAA,KAAK,EAAE;AACL,sDAA4C,KAAK;AAD5C;AAFyB,OAA3B,EAKJ,CACD,KAAK,cAAL,CAAoB,MAApB,CADC,EAED,KAAK,cAAL,CAAoB,OAApB,CAFC,CALI,CAAP;AASD,KArCO;AAsCR,IAAA,cAtCQ,4BAsCM;AACZ,UAAI,CAAC,KAAK,MAAV,EAAkB,OAAO,IAAP;AAElB,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B,KAAK,YAAL,CAAkB,KAAK,KAAvB,EAA8B;AAC9D,QAAA,WAAW,EAAE,2BADiD;AAE9D,QAAA,KAAK,EAAE;AACL,UAAA,KAAK,EAAE,4BAAc,MAAM,KAAK,gBAAzB,EAA2C,GAA3C;AADF;AAFuD,OAA9B,CAA3B,CAAP;AAMD,KA/CO;AAgDR,IAAA,eAhDQ,6BAgDO;AAAA;;AACb,UAAM,iBAAiB,GAAG,KAAK,iBAAL,IAA0B,IAA1B,GACrB,KAAK,eAAL,GAAuB,CAAvB,GAA2B,GADN,GAEtB,UAAU,CAAC,KAAK,iBAAN,CAFd;AAIA;AACE,QAAA,OAAO,EAAE;AADX,+BAEG,KAAK,UAAL,GAAkB,OAAlB,GAA4B,MAF/B,EAEwC,4BAAc,KAAK,eAAnB,EAAoC,GAApC,CAFxC,kCAGS,4BAAc,KAAK,gBAAL,GAAwB,KAAK,eAA3C,EAA4D,GAA5D,CAHT;AAKD,KA1DO;AA2DR,IAAA,OA3DQ,qBA2DD;AACL;AACE,uCAA+B,KAAK,QADtC;AAEE,oCAA4B,KAAK,KAFnC;AAGE,oCAA4B,KAAK,KAHnC;AAIE,uCAA+B,KAAK,QAJtC;AAKE,sCAA8B,KAAK,UALrC;AAME,sCAA8B,KAAK,OANrC;AAOE,sCAA8B,KAAK;AAPrC,SAQK,KAAK,YARV;AAUD,KAtEO;AAuER,IAAA,kBAvEQ,gCAuEU;AAChB,aAAO,KAAK,aAAL,GAAqB,4BAArB,GAAuC,8BAA9C;AACD,KAzEO;AA0ER,IAAA,UA1EQ,wBA0EE;AACR,aAAO,KAAK,QAAL,CAAc,GAAd,KAAsB,KAAK,OAAlC;AACD,KA5EO;AA6ER,IAAA,gBA7EQ,8BA6EQ;AACd,aAAO,KAAK,SAAL,CAAe,KAAK,WAApB,CAAP;AACD,KA/EO;AAgFR,IAAA,eAhFQ,6BAgFO;AACb,aAAO,KAAK,SAAL,CAAe,KAAK,iBAApB,CAAP;AACD,KAlFO;AAmFR,IAAA,QAnFQ,sBAmFA;AACN,aAAO,OAAO,CAAC,KAAK,UAAL,CAAgB,MAAjB,CAAd;AACD,KArFO;AAsFR,IAAA,MAtFQ,oBAsFF;AACJ,UAAM,MAAM,GAAwB,EAApC;;AAEA,UAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,QAAA,MAAM,CAAC,MAAP,GAAgB,CAAhB;AACD;;AAED,UAAI,CAAC,KAAK,aAAN,IAAuB,UAAU,CAAC,KAAK,gBAAN,CAAV,KAAsC,GAAjE,EAAsE;AACpE,QAAA,MAAM,CAAC,KAAP,GAAe,4BAAc,KAAK,gBAAnB,EAAqC,GAArC,CAAf;AACD;;AAED,aAAO,MAAP;AACD;AAlGO,GA9CqB;AAmJ/B,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACG;AACR,UAAM,IAAI,GAAG,sBAAQ,IAAR,EAAc,SAAd,EAAyB;AAAE,QAAA,KAAK,EAAE,KAAK;AAAd,OAAzB,CAAb;AAEA,UAAI,CAAC,IAAL,EAAW,OAAO,IAAP;AAEX,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,QAAA,WAAW,EAAE;AADmB,OAA3B,EAEJ,IAFI,CAAP;AAGD,KATM;AAUP,IAAA,YAVO,0BAUK;AACV,UAAM,SAAS,GAAG,KAAK,UAAvB;;AAEA,UAAI,KAAK,QAAT,EAAmB;AACjB,QAAA,SAAS,CAAC,KAAV,GAAkB,KAAK,OAAvB;AACD;;AAED,aAAO,SAAP;AACD,KAlBM;AAmBP,IAAA,cAnBO,0BAmBS,IAnBT,EAmB+B;AACpC,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B,KAAK,kBAAL,CAAwB,KAAK,KAA7B,EAAoC;AACpE,QAAA,WAAW,EAAE,kCADuD;AAEpE,QAAA,KAAK,sBACF,IADE,EACK,IADL;AAF+D,OAApC,CAA3B,CAAP;AAMD,KA1BM;AA2BP,IAAA,OA3BO,mBA2BE,CA3BF,EA2Be;AACpB,UAAI,CAAC,KAAK,QAAV,EAAoB;;AADA,kCAGF,KAAK,GAAL,CAAS,qBAAT,EAHE;AAAA,UAGZ,KAHY,yBAGZ,KAHY;;AAKpB,WAAK,aAAL,GAAqB,CAAC,CAAC,OAAF,GAAY,KAAZ,GAAoB,GAAzC;AACD,KAjCM;AAkCP,IAAA,SAlCO,qBAkCI,KAlCJ,EAkC0B;AAC/B,UAAI,KAAK,GAAG,CAAZ,EAAe,OAAO,CAAP;AACf,UAAI,KAAK,GAAG,GAAZ,EAAiB,OAAO,GAAP;AACjB,aAAO,UAAU,CAAC,KAAD,CAAjB;AACD;AAtCM,GAnJsB;AA4L/B,EAAA,MA5L+B,kBA4LvB,CA5LuB,EA4LtB;AACP,QAAM,IAAI,GAAG;AACX,MAAA,WAAW,EAAE,mBADF;AAEX,MAAA,KAAK,EAAE;AACL,QAAA,IAAI,EAAE,aADD;AAEL,yBAAiB,CAFZ;AAGL,yBAAiB,KAAK,gBAHjB;AAIL,yBAAiB,KAAK,aAAL,GAAqB,SAArB,GAAiC,KAAK;AAJlD,OAFI;AAQX,MAAA,KAAK,EAAE,KAAK,OARD;AASX,MAAA,KAAK,EAAE;AACL,QAAA,MAAM,EAAE,KAAK,MAAL,GAAc,CAAd,GAAkB,SADrB;AAEL,QAAA,MAAM,EAAE,KAAK,MAAL,GAAc,4BAAc,KAAK,MAAnB,CAAd,GAA2C,CAF9C;AAGL,QAAA,GAAG,EAAE,KAAK,GAAL,GAAW,CAAX,GAAe;AAHf,OATI;AAcX,MAAA,EAAE,EAAE,KAAK,YAAL;AAdO,KAAb;AAiBA,WAAO,CAAC,CAAC,KAAD,EAAQ,IAAR,EAAc,CACpB,KAAK,cADe,EAEpB,KAAK,kBAFe,EAGpB,KAAK,cAHe,EAIpB,KAAK,WAJe,EAKpB,KAAK,UAAL,EALoB,CAAd,CAAR;AAOD;AArN8B,CAAlB,C","sourcesContent":["import './VProgressLinear.sass'\n\n// Components\nimport {\n  VFadeTransition,\n  VSlideXTransition,\n} from '../transitions'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as PositionableFactory } from '../../mixins/positionable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { FunctionalComponentOptions } from 'vue/types'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  PositionableFactory(['absolute', 'fixed', 'top', 'bottom']),\n  Proxyable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-progress-linear',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    backgroundColor: {\n      type: String,\n      default: null,\n    },\n    backgroundOpacity: {\n      type: [Number, String],\n      default: null,\n    },\n    bufferValue: {\n      type: [Number, String],\n      default: 100,\n    },\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    height: {\n      type: [Number, String],\n      default: 4,\n    },\n    indeterminate: Boolean,\n    query: Boolean,\n    reverse: Boolean,\n    rounded: Boolean,\n    stream: Boolean,\n    striped: Boolean,\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n  },\n\n  data () {\n    return {\n      internalLazyValue: this.value || 0,\n    }\n  },\n\n  computed: {\n    __cachedBackground (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor || this.color, {\n        staticClass: 'v-progress-linear__background',\n        style: this.backgroundStyle,\n      }))\n    },\n    __cachedBar (): VNode {\n      return this.$createElement(this.computedTransition, [this.__cachedBarType])\n    },\n    __cachedBarType (): VNode {\n      return this.indeterminate ? this.__cachedIndeterminate : this.__cachedDeterminate\n    },\n    __cachedBuffer (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__buffer',\n        style: this.styles,\n      })\n    },\n    __cachedDeterminate (): VNode {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: `v-progress-linear__determinate`,\n        style: {\n          width: convertToUnit(this.normalizedValue, '%'),\n        },\n      }))\n    },\n    __cachedIndeterminate (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          'v-progress-linear__indeterminate--active': this.active,\n        },\n      }, [\n        this.genProgressBar('long'),\n        this.genProgressBar('short'),\n      ])\n    },\n    __cachedStream (): VNode | null {\n      if (!this.stream) return null\n\n      return this.$createElement('div', this.setTextColor(this.color, {\n        staticClass: 'v-progress-linear__stream',\n        style: {\n          width: convertToUnit(100 - this.normalizedBuffer, '%'),\n        },\n      }))\n    },\n    backgroundStyle (): object {\n      const backgroundOpacity = this.backgroundOpacity == null\n        ? (this.backgroundColor ? 1 : 0.3)\n        : parseFloat(this.backgroundOpacity)\n\n      return {\n        opacity: backgroundOpacity,\n        [this.isReversed ? 'right' : 'left']: convertToUnit(this.normalizedValue, '%'),\n        width: convertToUnit(this.normalizedBuffer - this.normalizedValue, '%'),\n      }\n    },\n    classes (): object {\n      return {\n        'v-progress-linear--absolute': this.absolute,\n        'v-progress-linear--fixed': this.fixed,\n        'v-progress-linear--query': this.query,\n        'v-progress-linear--reactive': this.reactive,\n        'v-progress-linear--reverse': this.isReversed,\n        'v-progress-linear--rounded': this.rounded,\n        'v-progress-linear--striped': this.striped,\n        ...this.themeClasses,\n      }\n    },\n    computedTransition (): FunctionalComponentOptions {\n      return this.indeterminate ? VFadeTransition : VSlideXTransition\n    },\n    isReversed (): boolean {\n      return this.$vuetify.rtl !== this.reverse\n    },\n    normalizedBuffer (): number {\n      return this.normalize(this.bufferValue)\n    },\n    normalizedValue (): number {\n      return this.normalize(this.internalLazyValue)\n    },\n    reactive (): boolean {\n      return Boolean(this.$listeners.change)\n    },\n    styles (): object {\n      const styles: Record<string, any> = {}\n\n      if (!this.active) {\n        styles.height = 0\n      }\n\n      if (!this.indeterminate && parseFloat(this.normalizedBuffer) !== 100) {\n        styles.width = convertToUnit(this.normalizedBuffer, '%')\n      }\n\n      return styles\n    },\n  },\n\n  methods: {\n    genContent () {\n      const slot = getSlot(this, 'default', { value: this.internalLazyValue })\n\n      if (!slot) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-progress-linear__content',\n      }, slot)\n    },\n    genListeners () {\n      const listeners = this.$listeners\n\n      if (this.reactive) {\n        listeners.click = this.onClick\n      }\n\n      return listeners\n    },\n    genProgressBar (name: 'long' | 'short') {\n      return this.$createElement('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-progress-linear__indeterminate',\n        class: {\n          [name]: true,\n        },\n      }))\n    },\n    onClick (e: MouseEvent) {\n      if (!this.reactive) return\n\n      const { width } = this.$el.getBoundingClientRect()\n\n      this.internalValue = e.offsetX / width * 100\n    },\n    normalize (value: string | number) {\n      if (value < 0) return 0\n      if (value > 100) return 100\n      return parseFloat(value)\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-progress-linear',\n      attrs: {\n        role: 'progressbar',\n        'aria-valuemin': 0,\n        'aria-valuemax': this.normalizedBuffer,\n        'aria-valuenow': this.indeterminate ? undefined : this.normalizedValue,\n      },\n      class: this.classes,\n      style: {\n        bottom: this.bottom ? 0 : undefined,\n        height: this.active ? convertToUnit(this.height) : 0,\n        top: this.top ? 0 : undefined,\n      },\n      on: this.genListeners(),\n    }\n\n    return h('div', data, [\n      this.__cachedStream,\n      this.__cachedBackground,\n      this.__cachedBuffer,\n      this.__cachedBar,\n      this.genContent(),\n    ])\n  },\n})\n"],"sourceRoot":"","file":"VProgressLinear.js"}