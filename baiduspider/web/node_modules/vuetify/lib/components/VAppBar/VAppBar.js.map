{"version":3,"sources":["../../../src/components/VAppBar/VAppBar.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VAppBar.sass'\n\n// Extensions\nimport VToolbar from '../VToolbar/VToolbar'\n\n// Directives\nimport Scroll from '../../directives/scroll'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Scrollable from '../../mixins/scrollable'\nimport SSRBootable from '../../mixins/ssr-bootable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Utilities\nimport { convertToUnit } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  VToolbar,\n  Scrollable,\n  SSRBootable,\n  Toggleable,\n  Applicationable('top', [\n    'clippedLeft',\n    'clippedRight',\n    'computedHeight',\n    'invertedScroll',\n    'isExtended',\n    'isProminent',\n    'value',\n  ])\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-app-bar',\n\n  directives: { Scroll },\n\n  props: {\n    clippedLeft: Boolean,\n    clippedRight: Boolean,\n    collapseOnScroll: Boolean,\n    elevateOnScroll: Boolean,\n    fadeImgOnScroll: Boolean,\n    hideOnScroll: Boolean,\n    invertedScroll: Boolean,\n    scrollOffScreen: Boolean,\n    shrinkOnScroll: Boolean,\n    value: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data () {\n    return {\n      isActive: this.value,\n    }\n  },\n\n  computed: {\n    applicationProperty (): string {\n      return !this.bottom ? 'top' : 'bottom'\n    },\n    canScroll (): boolean {\n      return (\n        Scrollable.options.computed.canScroll.call(this) &&\n        (\n          this.invertedScroll ||\n          this.elevateOnScroll ||\n          this.hideOnScroll ||\n          this.collapseOnScroll ||\n          this.isBooted ||\n          // If falsey, user has provided an\n          // explicit value which should\n          // overwrite anything we do\n          !this.value\n        )\n      )\n    },\n    classes (): object {\n      return {\n        ...VToolbar.options.computed.classes.call(this),\n        'v-toolbar--collapse': this.collapse || this.collapseOnScroll,\n        'v-app-bar': true,\n        'v-app-bar--clipped': this.clippedLeft || this.clippedRight,\n        'v-app-bar--fade-img-on-scroll': this.fadeImgOnScroll,\n        'v-app-bar--elevate-on-scroll': this.elevateOnScroll,\n        'v-app-bar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-app-bar--hide-shadow': this.hideShadow,\n        'v-app-bar--is-scrolled': this.currentScroll > 0,\n        'v-app-bar--shrink-on-scroll': this.shrinkOnScroll,\n      }\n    },\n    computedContentHeight (): number {\n      if (!this.shrinkOnScroll) return VToolbar.options.computed.computedContentHeight.call(this)\n\n      const height = this.computedOriginalHeight\n\n      const min = this.dense ? 48 : 56\n      const max = height\n      const difference = max - min\n      const iteration = difference / this.computedScrollThreshold\n      const offset = this.currentScroll * iteration\n\n      return Math.max(min, max - offset)\n    },\n    computedFontSize (): number | undefined {\n      if (!this.isProminent) return undefined\n\n      const max = this.dense ? 96 : 128\n      const difference = max - this.computedContentHeight\n      const increment = 0.00347\n\n      // 1.5rem to a minimum of 1.25rem\n      return Number((1.50 - difference * increment).toFixed(2))\n    },\n    computedLeft (): number {\n      if (!this.app || this.clippedLeft) return 0\n\n      return this.$vuetify.application.left\n    },\n    computedMarginTop (): number {\n      if (!this.app) return 0\n\n      return this.$vuetify.application.bar\n    },\n    computedOpacity (): number | undefined {\n      if (!this.fadeImgOnScroll) return undefined\n\n      const opacity = Math.max(\n        (this.computedScrollThreshold - this.currentScroll) / this.computedScrollThreshold,\n        0\n      )\n\n      return Number(parseFloat(opacity).toFixed(2))\n    },\n    computedOriginalHeight (): number {\n      let height = VToolbar.options.computed.computedContentHeight.call(this)\n      if (this.isExtended) height += parseInt(this.extensionHeight)\n      return height\n    },\n    computedRight (): number {\n      if (!this.app || this.clippedRight) return 0\n\n      return this.$vuetify.application.right\n    },\n    computedScrollThreshold (): number {\n      if (this.scrollThreshold) return Number(this.scrollThreshold)\n\n      return this.computedOriginalHeight - (this.dense ? 48 : 56)\n    },\n    computedTransform (): number {\n      if (\n        !this.canScroll ||\n        (this.elevateOnScroll && this.currentScroll === 0 && this.isActive)\n      ) return 0\n\n      if (this.isActive) return 0\n\n      const scrollOffScreen = this.scrollOffScreen\n        ? this.computedHeight\n        : this.computedContentHeight\n\n      return this.bottom ? scrollOffScreen : -scrollOffScreen\n    },\n    hideShadow (): boolean {\n      if (this.elevateOnScroll && this.isExtended) {\n        return this.currentScroll < this.computedScrollThreshold\n      }\n\n      if (this.elevateOnScroll) {\n        return this.currentScroll === 0 ||\n          this.computedTransform < 0\n      }\n\n      return (\n        !this.isExtended ||\n        this.scrollOffScreen\n      ) && this.computedTransform !== 0\n    },\n    isCollapsed (): boolean {\n      if (!this.collapseOnScroll) {\n        return VToolbar.options.computed.isCollapsed.call(this)\n      }\n\n      return this.currentScroll > 0\n    },\n    isProminent (): boolean {\n      return (\n        VToolbar.options.computed.isProminent.call(this) ||\n        this.shrinkOnScroll\n      )\n    },\n    styles (): object {\n      return {\n        ...VToolbar.options.computed.styles.call(this),\n        fontSize: convertToUnit(this.computedFontSize, 'rem'),\n        marginTop: convertToUnit(this.computedMarginTop),\n        transform: `translateY(${convertToUnit(this.computedTransform)})`,\n        left: convertToUnit(this.computedLeft),\n        right: convertToUnit(this.computedRight),\n      }\n    },\n  },\n\n  watch: {\n    canScroll: 'onScroll',\n    computedTransform () {\n      // Normally we do not want the v-app-bar\n      // to update the application top value\n      // to avoid screen jump. However, in\n      // this situation, we must so that\n      // the clipped drawer can update\n      // its top value when scrolled\n      if (\n        !this.canScroll ||\n        (!this.clippedLeft && !this.clippedRight)\n      ) return\n\n      this.callUpdate()\n    },\n    invertedScroll (val: boolean) {\n      this.isActive = !val || this.currentScroll !== 0\n    },\n  },\n\n  created () {\n    if (this.invertedScroll) this.isActive = false\n  },\n\n  methods: {\n    genBackground () {\n      const render = VToolbar.options.methods.genBackground.call(this)\n\n      render.data = this._b(render.data || {}, render.tag!, {\n        style: { opacity: this.computedOpacity },\n      })\n\n      return render\n    },\n    updateApplication (): number {\n      return this.invertedScroll\n        ? 0\n        : this.computedHeight + this.computedTransform\n    },\n    thresholdMet () {\n      if (this.invertedScroll) {\n        this.isActive = this.currentScroll > this.computedScrollThreshold\n        return\n      }\n\n      if (this.hideOnScroll) {\n        this.isActive = this.isScrollingUp ||\n          this.currentScroll < this.computedScrollThreshold\n      }\n\n      if (this.currentThreshold < this.computedScrollThreshold) return\n\n      this.savedScroll = this.currentScroll\n    },\n  },\n\n  render (h): VNode {\n    const render = VToolbar.options.render.call(this, h)\n\n    render.data = render.data || {}\n\n    if (this.canScroll) {\n      render.data.directives = render.data.directives || []\n      render.data.directives.push({\n        arg: this.scrollTarget,\n        name: 'scroll',\n        value: this.onScroll,\n      })\n    }\n\n    return render\n  },\n})\n"],"sourceRoot":"","file":"VAppBar.js"}