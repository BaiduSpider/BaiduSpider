{"version":3,"sources":["../../../src/components/VColorPicker/VColorPickerSwatches.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VColorPickerSwatches.sass'\n\n// Components\nimport VIcon from '../VIcon'\n\n// Helpers\nimport colors from '../../util/colors'\nimport { VColorPickerColor, fromHex, parseColor } from './util'\nimport { convertToUnit, deepEqual } from '../../util/helpers'\nimport mixins from '../../util/mixins'\nimport Themeable from '../../mixins/themeable'\n\n// Types\nimport { VNode, PropType } from 'vue'\nimport { contrastRatio } from '../../util/colorUtils'\n\nfunction parseDefaultColors (colors: Record<string, Record<string, string>>) {\n  return Object.keys(colors).map(key => {\n    const color = colors[key]\n    return color.base ? [\n      color.base,\n      color.darken4,\n      color.darken3,\n      color.darken2,\n      color.darken1,\n      color.lighten1,\n      color.lighten2,\n      color.lighten3,\n      color.lighten4,\n      color.lighten5,\n    ] : [\n      color.black,\n      color.white,\n      color.transparent,\n    ]\n  })\n}\n\nconst white = fromHex('#FFFFFF').rgba\nconst black = fromHex('#000000').rgba\n\nexport default mixins(Themeable).extend({\n  name: 'v-color-picker-swatches',\n\n  props: {\n    swatches: {\n      type: Array as PropType<string[][]>,\n      default: () => parseDefaultColors(colors),\n    },\n    color: Object as PropType<VColorPickerColor>,\n    maxWidth: [Number, String],\n    maxHeight: [Number, String],\n  },\n\n  methods: {\n    genColor (color: string) {\n      const content = this.$createElement('div', {\n        style: {\n          background: color,\n        },\n      }, [\n        deepEqual(this.color, parseColor(color, null)) && this.$createElement(VIcon, {\n          props: {\n            small: true,\n            dark: contrastRatio(this.color.rgba, white) > 2 && this.color.alpha > 0.5,\n            light: contrastRatio(this.color.rgba, black) > 2 && this.color.alpha > 0.5,\n          },\n        }, '$success'),\n      ])\n\n      return this.$createElement('div', {\n        staticClass: 'v-color-picker__color',\n        on: {\n          // TODO: Less hacky way of catching transparent\n          click: () => this.$emit('update:color', fromHex(color === 'transparent' ? '#00000000' : color)),\n        },\n      }, [content])\n    },\n    genSwatches () {\n      return this.swatches.map(swatch => {\n        const colors = swatch.map(this.genColor)\n\n        return this.$createElement('div', {\n          staticClass: 'v-color-picker__swatch',\n        }, colors)\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-color-picker__swatches',\n      style: {\n        maxWidth: convertToUnit(this.maxWidth),\n        maxHeight: convertToUnit(this.maxHeight),\n      },\n    }, [\n      this.$createElement('div', this.genSwatches()),\n    ])\n  },\n})\n"],"sourceRoot":"","file":"VColorPickerSwatches.js"}